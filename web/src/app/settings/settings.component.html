<div class="row">
  <div class="col-sm-1"></div>

  <div class="col-sm-10">
      <h2>Settings</h2>

      
      <!--Info region-->
      <div *ngIf="messageList">
        <p *ngFor="let message of messageList; index as i">
          <ngb-alert [type]="message.messageType" (closed)="messageList.splice(i, 1)">{{message.message}}</ngb-alert>
        </p>
      </div>


      <form>
        <div class="row mt-2">
          <div class="col-sm-3 d-flex"><label for="slow-mode" class="form-label align-self-center">Slow mode: </label></div>
          <div class="col-sm-9">
            <select class="form-select" id="slow-mode" name="slow_mode" [(ngModel)]="settingObj.slowMode">
              <option value="true">True</option>
              <option value="false">False</option>
            </select>
          </div>
        </div>
        <div class="row mt-2">
          <div class="col-sm-3 d-flex"><label for="sleep-time" class="form-label align-self-center">Sleep time: </label></div>
          <div class="col-sm-9"><input id="sleep-time" name="sleep_time" type="number" class="form-control" [(ngModel)]="settingObj.sleepTime"></div>
        </div>
        <div class="row mt-2">
          <div class="col-sm-3 d-flex"><label for="cookie-path" class="form-label align-self-center">Cookie path: </label></div>
          <div class="col-sm-9"><input id="cookie-path" name="cookie_path" class="form-control" type="text" [(ngModel)]="settingObj.cookiePath"></div>
        </div>
        <div class="row mt-2">
          <div class="col-sm-3 d-flex"><label for="download-path" class="form-label align-self-center">Download path: </label></div>
          <div class="col-sm-9"><input id="download-path" name="download_path" class="form-control" type="text" [(ngModel)]="settingObj.downloadPath"></div>
        </div>  
        <div class="row mt-2">
          <div class="col-sm-3 d-flex"><label for="local-videos" class="form-label align-self-center">Local file path: </label></div>
          <div class="col-sm-9"><input id="local-videos" name="local_videos" class="form-control" type="text" [(ngModel)]="settingObj.scanPath"></div>
        </div>
        <div class="mt-2" style="text-align: right">
          <button type="submit" class="btn btn-primary" (click)="putSettings()">Apply</button>
        </div>
      </form>

    <div class="mt-4 border rounded-2 p-2 setting-block" style="background-color: #ffcccc;">
      <div class="block-border-label border rounded-pill">Danger zone</div>
      <div class="mt-3 px-2">
        <div class="mb-2">
          <button id="scan-local" type="button" class="btn btn-primary" (click)="onScanLocal()">Scan local files</button>
        </div>
        <div class="mb-2">
          <ng-container *ngIf="downloaderStatus; then stopDownloader; else triggerDownloader"></ng-container>
          <ng-template #stopDownloader>
            <button id="stop-dl" type="button" class="btn btn-danger" (click)="onStopDownloader()">Stop Downloader</button> <span class="ps-2">Downloader is running, press to stop. </span>
          </ng-template>
          <ng-template #triggerDownloader>
            <button id="start-dl" type="button" class="btn btn-success" (click)="onTriggerDownload()">Start Downloader</button> <span class="ps-2">Downloader is free, press to start. </span>
          </ng-template>
        </div>
      </div>
    </div>

  </div>

  <div class="col-sm-1"></div>
</div>